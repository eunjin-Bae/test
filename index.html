<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link rel="stylesheet" href="reset.css">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
</head>
<body>
    <div class="start-screen">
      <h1 id="title"></h1>
      <div class="scroll-downs">
        <div class="mousey">
          <div class="scroller"></div>
        </div>
      </div>
    </div>

    <!-- ì˜¤ë²„ë ˆì´ ë° ì¹´ë“œ ìš”ì†Œë¥¼ í˜ì´ì§€ ì „ì²´ì—ì„œ ë¶„ë¦¬ -->
<div class="overlay" id="overlay">
  <div class="modal-card">
    <h2>ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. <br />
        ì¢‹ì€ ë„íŒŒë¯¼ì„ ì–»ìœ¼ì…¨ìŠµë‹ˆë‹¤. ğŸ‰  </h2>
    <p>ì‚¬ë‘í•´ìš” ì¹´ë“œ</p>
  </div>
</div>

    <!-- ìƒˆë¡œìš´ í˜ì´ì§€ ì¶”ê°€ -->
<div class="new-page-section">
  <div class="overlay" id="overlay">
    <div class="modal-card">
      <h2>Card Title</h2>
      <p>Details about this card...</p>
    </div>
  </div>
  <!-- 2x4 ì¹´ë“œ ê·¸ë¦¬ë“œ ì¶”ê°€ -->
  <div class="card-grid">
    <div class="card-item"></div>
    <div class="card-item"></div>
    <div class="card-item"></div>
    <div class="card-item"></div>
    <div class="card-item"></div>
    <div class="card-item"></div>
    <div class="card-item"></div>
    <div class="card-item"></div>
  </div>
</div>

<div class="new-page-section-2">
  <div class="image-box">
    <img src="images/img_heart.png" alt="í–‰ìš´ì˜ ì´ë¯¸ì§€" class="animated-image">
  </div>
  <div class="text-box">
    <h2>í–‰ìš´ì˜ ë„íŒŒë¯¼ ì¹´ë“œë¥¼ ê³ ë¥¸ ë‹¹ì‹ ! <br />ì˜¤ëŠ˜ì˜ ë„íŒŒë¯¼ ìš´ì„¸ëŠ”? </h2>
    <p>ğŸ’¬ 'ì‚¬ë‘' ì¹´ë“œëŠ” ì•„ì£¼ íŠ¹ë³„í•˜ë©´ì„œë„ í”íˆ ë³¼ ìˆ˜ ìˆëŠ” ë„íŒŒë¯¼ ì…ë‹ˆë‹¤!<br />
          ì‚¬ë‘ì„ í•  ë•Œ ë‚˜ì˜¤ëŠ” ë„íŒŒë¯¼ì€ ì¸ì§€ëŠ¥ë ¥ì„ ì˜¬ë ¤ì£¼ë©° ì´ë•Œ ë¶„ë¹„ë˜ëŠ” ì˜¥ì‹œí† ì‹ ì€ <br />
          ê¸°ì–µë ¥ í–¥ìƒì— ë„ì›€ì´ ë©ë‹ˆë‹¤! <br />
       <br />
       ğŸŒŸ ì˜¤ëŠ˜ì˜ ë„íŒŒë¯¼ ìš´ì„¸ : 98ì 
       </p>
  </div>
</div>


  <div class="main-content-1">
    <div class="sticky">
      <div class="sticky-background">
        <div class="card-frame">
          <div class="card card1 good"><div class="front"></div><div class="back"></div></div>
          <div class="card card2 bad"><div class="front"></div><div class="back"></div></div>
          <div class="card card3 bad"><div class="front"></div><div class="back"></div></div>
          <div class="card card4 good"><div class="front"></div><div class="back"></div></div>
          <div class="card card5 good"><div class="front"></div><div class="back"></div></div>
          <div class="card card6 good"><div class="front"></div><div class="back"></div></div>
          <div class="card card7 bad"><div class="front"></div><div class="back"></div></div>
          <div class="card card8 bad"><div class="front"></div><div class="back"></div></div>
        </div>
      </div>
    </div>
  </div>
  <div class="end-screen" id="end-title">
    ì–´ë–¤ ì¹´ë“œë¥¼ ê³ ë¥´ì‹œê² ìŠµë‹ˆê¹Œ?
  </div>  
<script>
class CardRevealOnScroll {
  constructor(wrapper, sticky) {
    this.wrapper = wrapper;
    this.sticky = sticky;
    this.cards = sticky.querySelectorAll('.card');
    this.revealPosition = 0; // ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì €ì¥
  }

  init() {
    this.revealPosition = this.wrapper.offsetTop - window.innerHeight * 0.8;
    this.cards.forEach(card => {
      card.style.opacity = '0'; // ì´ˆê¸° ìƒíƒœë¥¼ íˆ¬ëª…í•˜ê²Œ ì„¤ì •
      card.style.transform = 'translateX(50vw) rotateY(180deg)'; // ì˜¤ë¥¸ìª½ì— ìœ„ì¹˜í•˜ê³  ë’·ë©´ ìƒíƒœë¡œ ì‹œì‘
      card.classList.remove('animated'); // ì´ˆê¸°í™” ì‹œ ì• ë‹ˆë©”ì´ì…˜ í´ë˜ìŠ¤ ì œê±°
    });
  }

  animate() {
    if (window.scrollY >= this.revealPosition) {
      this.cards.forEach((card, index) => {
        // ì´ë¯¸ ì• ë‹ˆë©”ì´ì…˜ì´ ì‹¤í–‰ëœ ì¹´ë“œë¼ë©´ ë¬´ì‹œ
        if (card.classList.contains('animated')) return;

        // ì²« ë²ˆì§¸ ë‹¨ê³„: ìœ„ì¹˜ ì´ë™í•˜ë©° ë’·ë©´ ìœ ì§€
        setTimeout(() => {
          card.style.transition = 'transform 2s ease';
          card.style.transform = 'translateX(0) rotateY(180deg)'; // ë’·ë©´ ìœ ì§€í•œ ì±„ ì´ë™
          card.style.opacity = '1'; // ë¶ˆíˆ¬ëª…í•˜ê²Œ ë³€í™˜
        }, index * 500);

        // ë‘ ë²ˆì§¸ ë‹¨ê³„: ìœ„ì¹˜ ì´ë™ í›„ ì•ë©´ì´ ë³´ì´ë„ë¡ íšŒì „
        setTimeout(() => {
          card.style.transition = 'transform 1s ease';
          card.style.transform = 'translateX(0) rotateY(0deg)'; // ì•ë©´ìœ¼ë¡œ íšŒì „
          card.classList.add('animated');
        }, index * 500 + 2000);
      });
    }
  }
}

const mainContent1 = document.querySelector('.main-content-1');
const sticky = document.querySelector('.sticky');
const cardRevealOnScroll = new CardRevealOnScroll(mainContent1, sticky);
cardRevealOnScroll.init();

window.addEventListener('scroll', function onScroll() {
  cardRevealOnScroll.animate();
  if (window.scrollY >= cardRevealOnScroll.revealPosition) {
    window.removeEventListener('scroll', onScroll);
  }
});

window.addEventListener('resize', () => {
  cardRevealOnScroll.init();
});

</script>

<head>
  <!-- ê¸°ì¡´ head íƒœê·¸ ë‚´ìš©ë“¤ -->
  <script src="https://unpkg.com/typeit@8.3.3/dist/index.umd.js"></script>
</head>
<body>
  <!-- ìœ„ì˜ start-screen ì½”ë“œ -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      new TypeIt('#title')
        .pause(1000)
    });
  </script>
</body>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const endScreen = document.querySelector('.end-screen');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          endScreen.classList.add('animate');
        }
      });
    }, {
      threshold: 0.5 // ìš”ì†Œì˜ 50%ê°€ ë³´ì¼ ë•Œ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
    });
    
    observer.observe(endScreen);
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const background = document.createElement('div');
    background.classList.add('body-background');
    document.body.appendChild(background);

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          background.classList.add('expand');
        }
      });
    }, {
      threshold: 0.5 // íŠ¹ì • ì„¹ì…˜ì´ 50% ë³´ì¼ ë•Œ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
    });

    const endScreen = document.querySelector('.end-screen');
    observer.observe(endScreen);
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const overlay = document.getElementById('overlay');
    const newPageSection = document.querySelector('.new-page-section');

    newPageSection.addEventListener('click', () => {
      overlay.classList.add('show');
      newPageSection.classList.add('blur-background');
    });

    overlay.addEventListener('click', () => {
      overlay.classList.remove('show');
      newPageSection.classList.remove('blur-background');
    });
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const overlay = document.getElementById('overlay');
    const newPageSection = document.querySelector('.new-page-section');
    const thirdPage = document.querySelector('.main-content-1'); // 3ë²ˆì§¸ í˜ì´ì§€ ìš”ì†Œ

    newPageSection.addEventListener('click', () => {
      overlay.classList.add('show');
      newPageSection.classList.add('blur-background');
    });

    overlay.addEventListener('click', () => {
      overlay.classList.remove('show');
      newPageSection.classList.remove('blur-background');
    });

    // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ë¡œ ì¹´ë“œ ìˆ¨ê¸°ê¸°
    window.addEventListener('scroll', () => {
      const thirdPageTop = thirdPage.offsetTop;
      const currentScrollPosition = window.scrollY + window.innerHeight;

      // ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ 3ë²ˆì§¸ í˜ì´ì§€ì˜ ì‹œì‘ ì§€ì ì„ ì§€ë‚  ë•Œ ì¹´ë“œ ìˆ¨ê¸°ê¸°
      if (currentScrollPosition >= thirdPageTop) {
        overlay.classList.remove('show');
        newPageSection.classList.remove('blur-background');
      }
    });
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const overlay = document.getElementById('overlay');
    const newPageSection = document.querySelector('.new-page-section');
    const newPageSection2 = document.querySelector('.new-page-section-2'); // ìƒˆë¡œ ì¶”ê°€ëœ í˜ì´ì§€

    newPageSection.addEventListener('click', () => {
      overlay.classList.add('show');
      newPageSection.classList.add('blur-background');
    });

    overlay.addEventListener('click', () => {
      overlay.classList.remove('show');
      newPageSection.classList.remove('blur-background');
    });

    // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ë¡œ ì¹´ë“œ ìˆ¨ê¸°ê¸°
    window.addEventListener('scroll', () => {
      const newPageSection2Top = newPageSection2.getBoundingClientRect().top + window.scrollY;
      const currentScrollPosition = window.scrollY + window.innerHeight;

      // ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ ìƒˆë¡œìš´ í˜ì´ì§€ì˜ ì‹œì‘ ì§€ì ì„ ì§€ë‚  ë•Œ ì¹´ë“œ ìˆ¨ê¸°ê¸°
      if (currentScrollPosition >= newPageSection2Top) {
        overlay.classList.remove('show');
        newPageSection.classList.remove('blur-background');
      }
    });
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const textBox = document.querySelector('.text-box');

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          textBox.classList.add('show');
        }
      });
    }, {
      threshold: 0.5 // ìš”ì†Œê°€ 50% ë³´ì¼ ë•Œ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
    });

    observer.observe(textBox);
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // ê¸°ì¡´ íƒ€ì´í•‘ íš¨ê³¼ (start-screen)
    new TypeIt('#title')
      .pause(800)
      .type('ì¹´ë“œë¥¼ í•œ ì¥ ì„ íƒí•´ì£¼ì„¸ìš”.')
      .go();

    // IntersectionObserverë¥¼ ì‚¬ìš©í•˜ì—¬ end-titleì— íƒ€ì´í•‘ íš¨ê³¼ ì¶”ê°€
    const endTitle = document.getElementById('end-title');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          new TypeIt('#end-title')
      .pause(1000)
      .delete(13, { delay: 1000 })
      .type(' ì‚¶ì„ ì„ íƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')
      .go();

          // ì• ë‹ˆë©”ì´ì…˜ í›„ observer í•´ì œ
          observer.unobserve(endTitle);
        }
      });
    }, {
      threshold: 0.5 // ìš”ì†Œì˜ 50%ê°€ ë³´ì¼ ë•Œ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
    });

    observer.observe(endTitle);
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const stickyBackground = document.querySelector('.sticky-background');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          stickyBackground.classList.add('show'); // í˜ì´ë“œ ì¸ íš¨ê³¼ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ ì¶”ê°€
        }
      });
    }, {
      threshold: 0.2 // ìš”ì†Œê°€ 50% ë³´ì¼ ë•Œ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
    });

    observer.observe(stickyBackground);
  });
</script>

</body>
</html>